# Halfminer Land
Bukkit plugin offering the ability for players to securely claim and manage their land 
using [WorldGuard](https://github.com/sk89q/WorldGuard) as it's protection backend.

## Current features
- Integrates with WorldGuard to offer robust land protection
  - Additionally to WorldGuard, handles ...
    - Blocks lava and water from flowing into protected land
    - Block certain commands via config in other players lands, like */sethome* (bypass permission available)
      - Takes command aliases into account automatically
      - Subcommands can be blocked aswell
    - Blocks enderpearls and PvP in protected regions
    - Blocks access to chest/hopper minecarts
- Land will be marked as abandoned after a player has been offline for a configurable amount of time
  - Abandoned land can be stolen and is no longer protected until the owning player logs back in again once
- Localization configurable, commands are clickable
- Data stored in flatfile ```.yml``` files
- Shows land status change on chunk move in titles
  - If PvP status was toggled (checks WorldGuard PvP flag)
  - If land owner changed
  - Custom titles that can be set via */hml customtitle <Title>*
- If a player has no land and is placing blocks on unprotected land they will be notified about it (notification percentage configurable)
- **Commands**
  - /land buy [server]
    - Buy the land the executing player is currently standing on
    - Exponential and configurable land cost formula
      - First land is always free
      - Set base cost and maximum cost
    - Shows chunk particles and cost first, purchase has to be confirmed
    - Disable worlds or set minimum required coordinates to purchase land via config
      - No other players can be on the land for the purchase to be confirmed
      - Land that is protected by WorldGuard cannot be bought
    - Support for free lands, that can be granted via */hml free \<player>*
      - Shows a message how many free lands are left after player used a free land
      - Free lands do not increase the price for the next paid land and are being handled seperately
      - Operator permission for unlimited free lands available
    - Allows operators with the permission to buy land owned by the server which won't ever be marked as abandoned
      - All players with ``hml.ownsserverland`` permission have full access to land
  - /land sell [force]
    - Sell the land the executing player is currently standing on
    - Requires confirmation analogous to */land buy*
    - No other players can be on the land for the sell to be confirmed
    - Pays back a configurable percentage of the money the player has paid for his most recently purchased land
      - If land that is being sold was a free land no money will be paid back
    - Allows operators with the permission to force sell land for other players
      - If land owner is online it will notify him
      - Refund amount shown in chat to allow manual refund
  - /land info
    - Shows particles for land executing player is currently standing on
    - If land is already owned, shows owner, teleport point (if applicable) and friends added to this land
  - /land friend <add|remove> \<Friend> [all|connected]
    - Adds or removes a player as a friend to a land
      - If *all* parameter is specified, the given player will be added/removed to all lands
      - If *connected* parameter is specified, the given player will be added/removed to all lands connected to the current land
    - Friend limit per land is configurable (bypass permission available)
  - /land teleport <buy|set|delete> \<Teleport>
    - Buy/set a teleport to the position you are currently standing on
      - Can only be set if player owns land
        - Only one teleport per land
      - Custom cost for buy and set configurable
      - Max amount of teleports per player configurable (permission for unlimited teleports available)
      - Purchased teleport is globally accessible via */landtp*
    - Teleports for abandoned land can optionally be stolen
    - Max/min length for teleport name configurable, no special characters for teleports (bypass permission available)
    - Blacklist for teleport names (bypass permission available)
    - Bypass permission for operators to be able to delete any teleport available
  - /land list [player]
    - Opens a menu that shows all owned lands, their world, coordinates and teleport names (if applicable)
      - Shows lands with teleport at the front
    - Can be called from console, which will output a non menu based list
    - Lookup other players lands, requires permission
      - List all land owned by server with */land list -s*
    - Teleport to a land by clicking on it, will mark the chunk with particles after teleport (requires permission)
  - /land fly
    - Toggles fly mode on owned land, or land where a player was added as a friend
      - Disables fly when leaving land, reenables it when entering owned/friendly land
      - Disables fly when leaving the server or entering combat with players
    - Custom cost and duration to fly
    - Automatically renews fly if currently used
  - /landtp [teleport]
    - Teleport to a public teleport point
      - If player owns the teleport point a delay will be added to prevent teleports being used as private homes (bypass available)
    - If no teleport argument is given opens a menu that displays all owned teleports and all teleports owned by other online players
      - Always shows every owned teleport by executing player
      - Shows pinned teleports in top line of menu with enchantment effect
        - Pinned teleports are always visible, even if owning player is offline
        - Default material for server land can be configured
    - Teleports into abandoned lands are disabled, if teleport stealing is enabled shows command to steal teleport name
  - /hml \<customtitle|forcewgrefresh|flytime|free|pintp|reload|save|status>
    - Reload the configuration
    - Save board data on disk
    - View global land status
      - Total amount of land owned
        - Per world breakdown
      - Total amount of teleports
      - Total amount of free and abandoned land
    - Forces all WorldGuard regions to be regenerated (can take a while)
    - See the current free land amount a player can buy or change it
    - Pin (and unpin) a teleport point at the top in the */landtp* menu
    - Specify a custom title for a currently owned land via */hml customtitle [title]*, remove it by using */hml customtitle -c*
    - Get and set the remaining fly time (for */land fly*)